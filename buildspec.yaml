  
version: 0.2
env:
  secrets-manager:
    TELERIKPRIVATENUGETFEEDUSERNAME: TelerikPrivateNugetFeed:Username
phases:
  pre_build:
    commands:
      - export TELERIKPRIVATENUGETFEEDUSERNAME=$TelerikPrivateNugetFeedUsername
      - export TELERIKPRIVATENUGETFEEDPASSWORD=$TelerikPrivateNugetFeedPassword
      - sed -inuget.config 's/%TelerikNugetFeedUserName%/$TelerikPrivateNugetFeedUsername/' nuget.config
      - sed -inuget.config 's/%$TelerikPrivateNugetFeedPassword%/$TelerikPrivateNugetFeedPassword/' nuget.config
      - dotnet restore 
  build:
    commands:
      - dotnet publish -c release -o ./build_output 
artifacts:
  files:
    - build_output/**/*
